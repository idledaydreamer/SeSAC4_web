<!--* Axios-->
<html>
<head>
    <title>Axios</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!--^ GET -->
<script>
        function sendGet(){
            axios({
                url: 'http://localhost:8000/receive',
                method: 'get',
                params: {
                    name: "cocoon-get"
                }
            }).then((a) => { return a.data; })
            .then((d)=> { 
                alert (d.message);  
            });
        }
</script>

<!--^ POST -->
<script>
        function sendPost(){
            // axios().then((response)=>{console.log(response); }) }
            axios(
            {
                url: 'http://localhost:8000/receive',
                method: 'post',
                data: {
                    name: "cocoon-post"
                }
            }).then((a) => { return a.data; })
            .then((d)=> { 
                alert (d.message);  
            }); //필요한 데이터부분만 반환
        }

        function sendForm(){
            var form = document.getElementById("form_info");
            console.log( form );

            var result = form.checkValidity();
            if ( !result) {
                form.reportValidity();
                return false;
            }
            // console.log(result );

            // console.log(form.name.value);
            // console.log(form.age.value);

            // axios({
            //     url: 'http://localhost:8000/receive',
            //     method: 'post',
            //     params: {
            //         name: form.name.value
            //     }
            // }).then((a) => { return a.data; })
            // .then((d)=> { 
            //     alert (d.message);  
            // });
        }


</script>

</head>
<body>
    <button onclick="sendGet()">sendGet</button> 
    <button onclick="sendPost()">sendPOST</button>
    
    <!-- <form action="/receive">
        <button type="button" onclick="sendGet()">GET버튼</button> 
    </form> -->

    <form id="form_info">
        <input type="text" name="name" required>
        <input type="text" name="age" required>
        <button type="button" onclick="sendForm()">sendForm</button>
    </form>
</body>
</html>